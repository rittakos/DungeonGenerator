\doxysection{tcp\+\_\+sink.\+h}
\hypertarget{tcp__sink_8h_source}{}\label{tcp__sink_8h_source}\index{C:/Dev/DungeonGenerator/DungeonGenerator/additional\_includes/spdlog/sinks/tcp\_sink.h@{C:/Dev/DungeonGenerator/DungeonGenerator/additional\_includes/spdlog/sinks/tcp\_sink.h}}
\mbox{\hyperlink{tcp__sink_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00001}00001\ \textcolor{comment}{//\ Copyright(c)\ 2015-\/present,\ Gabi\ Melman\ \&\ spdlog\ contributors.}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00002}00002\ \textcolor{comment}{//\ Distributed\ under\ the\ MIT\ License\ (http://opensource.org/licenses/MIT)}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00004}00004\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00006}00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{common_8h}{spdlog/common.h}}>}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00007}00007\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{null__mutex_8h}{spdlog/details/null\_mutex.h}}>}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{base__sink_8h}{spdlog/sinks/base\_sink.h}}>}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00009}00009\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00010}00010\ \textcolor{preprocessor}{\ \ \ \ \#include\ <\mbox{\hyperlink{tcp__client-windows_8h}{spdlog/details/tcp\_client-\/windows.h}}>}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00011}00011\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00012}00012\ \textcolor{preprocessor}{\ \ \ \ \#include\ <\mbox{\hyperlink{tcp__client_8h}{spdlog/details/tcp\_client.h}}>}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00013}00013\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00015}00015\ \textcolor{preprocessor}{\#include\ <chrono>}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00016}00016\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00017}00017\ \textcolor{preprocessor}{\#include\ <mutex>}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00018}00018\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00020}00020\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00022}00022\ \textcolor{comment}{//\ Simple\ tcp\ client\ sink}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00023}00023\ \textcolor{comment}{//\ Connects\ to\ remote\ address\ and\ send\ the\ formatted\ log.}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00024}00024\ \textcolor{comment}{//\ Will\ attempt\ to\ reconnect\ if\ connection\ drops.}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00025}00025\ \textcolor{comment}{//\ If\ more\ complicated\ behaviour\ is\ needed\ (i.e\ get\ responses),\ you\ can\ inherit\ it\ and\ override\ the}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00026}00026\ \textcolor{comment}{//\ sink\_it\_\ method.}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00028}00028\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacespdlog}{spdlog}}\ \{}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00029}00029\ \textcolor{keyword}{namespace\ }sinks\ \{}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00031}\mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config}{00031}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config}{tcp\_sink\_config}}\ \{}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00032}\mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a7fc1a97efaf76b605be25040b3d7047b}{00032}}\ \ \ \ \ std::string\ \mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a7fc1a97efaf76b605be25040b3d7047b}{server\_host}};}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00033}\mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a4f51da2c3cef7535245dfa2fe31f2c2b}{00033}}\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a4f51da2c3cef7535245dfa2fe31f2c2b}{server\_port}};}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00034}\mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a425b74518f031cd718a4690c73a6a5be}{00034}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a425b74518f031cd718a4690c73a6a5be}{lazy\_connect}}\ =\ \textcolor{keyword}{false};\ \ \textcolor{comment}{//\ if\ true\ connect\ on\ first\ log\ call\ instead\ of\ on\ construction}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00036}\mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_af239ad764e4e747c26f3b33ad5557e9e}{00036}}\ \ \ \ \ \mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_af239ad764e4e747c26f3b33ad5557e9e}{tcp\_sink\_config}}(std::string\ host,\ \textcolor{keywordtype}{int}\ port)}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00037}00037\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a7fc1a97efaf76b605be25040b3d7047b}{server\_host}}\{\mbox{\hyperlink{namespacestd}{std}}::move(host)\},}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a4f51da2c3cef7535245dfa2fe31f2c2b}{server\_port}}\{port\}\ \{\}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00039}00039\ \};}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00041}00041\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Mutex>}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00042}\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink}{00042}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink}{tcp\_sink}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classspdlog_1_1sinks_1_1base__sink}{spdlog::sinks::base\_sink}}<Mutex>\ \{}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00043}00043\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00044}00044\ \ \ \ \ \textcolor{comment}{//\ connect\ to\ tcp\ host/port\ or\ throw\ if\ failed}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00045}00045\ \ \ \ \ \textcolor{comment}{//\ host\ can\ be\ hostname\ or\ ip\ address}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00047}\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_a0216b18f4bd37742c2e19236a5c0c916}{00047}}\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_a0216b18f4bd37742c2e19236a5c0c916}{tcp\_sink}}(\mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config}{tcp\_sink\_config}}\ sink\_config)}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00048}00048\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_ab0fb88fa9f04241f3d423b62800e0de8}{config\_}}\{\mbox{\hyperlink{namespacestd}{std}}::move(sink\_config)\}\ \{}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00049}00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_ab0fb88fa9f04241f3d423b62800e0de8}{config\_}}.\mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a425b74518f031cd718a4690c73a6a5be}{lazy\_connect}})\ \{}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00050}00050\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_afc5b3878cddfb53c78004096725c9346}{client\_}}.\mbox{\hyperlink{classspdlog_1_1details_1_1tcp__client_a49ee8323af98d73af42e4c76ebb13f2d}{connect}}(\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_ab0fb88fa9f04241f3d423b62800e0de8}{config\_}}.\mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a7fc1a97efaf76b605be25040b3d7047b}{server\_host}},\ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_ab0fb88fa9f04241f3d423b62800e0de8}{config\_}}.\mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a4f51da2c3cef7535245dfa2fe31f2c2b}{server\_port}});}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00051}00051\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00052}00052\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00054}\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_ad349ed6b261d9b448e571c1a462dddc5}{00054}}\ \ \ \ \ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_ad349ed6b261d9b448e571c1a462dddc5}{\string~tcp\_sink}}()\ \textcolor{keyword}{override}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00056}00056\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00057}\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_a64e2d5e1426d11359479a4e9126da132}{00057}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_a64e2d5e1426d11359479a4e9126da132}{sink\_it\_}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structspdlog_1_1details_1_1log__msg}{spdlog::details::log\_msg}}\ \&msg)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00058}00058\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacespdlog_a9ae6875ab28ec95e33921c45ae451633}{spdlog::memory\_buf\_t}}\ formatted;}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00059}00059\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classspdlog_1_1sinks_1_1base__sink}{spdlog::sinks::base\_sink<Mutex>::formatter\_}}-\/>format(msg,\ formatted);}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00060}00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_afc5b3878cddfb53c78004096725c9346}{client\_}}.\mbox{\hyperlink{classspdlog_1_1details_1_1tcp__client_a20d9e3f5646c9ea65b96c66437867264}{is\_connected}}())\ \{}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_afc5b3878cddfb53c78004096725c9346}{client\_}}.\mbox{\hyperlink{classspdlog_1_1details_1_1tcp__client_a49ee8323af98d73af42e4c76ebb13f2d}{connect}}(\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_ab0fb88fa9f04241f3d423b62800e0de8}{config\_}}.\mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a7fc1a97efaf76b605be25040b3d7047b}{server\_host}},\ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_ab0fb88fa9f04241f3d423b62800e0de8}{config\_}}.\mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config_a4f51da2c3cef7535245dfa2fe31f2c2b}{server\_port}});}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00062}00062\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00063}00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_afc5b3878cddfb53c78004096725c9346}{client\_}}.\mbox{\hyperlink{classspdlog_1_1details_1_1tcp__client_a822dbb5a77626f1b16f953f5a41d2756}{send}}(formatted.data(),\ formatted.size());}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00064}00064\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00066}\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_acb8ff5d52fe921500bf42d0b54f423f9}{00066}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_acb8ff5d52fe921500bf42d0b54f423f9}{flush\_}}()\textcolor{keyword}{\ override\ }\{\}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00067}\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_ab0fb88fa9f04241f3d423b62800e0de8}{00067}}\ \ \ \ \ \mbox{\hyperlink{structspdlog_1_1sinks_1_1tcp__sink__config}{tcp\_sink\_config}}\ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_ab0fb88fa9f04241f3d423b62800e0de8}{config\_}};}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00068}\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_afc5b3878cddfb53c78004096725c9346}{00068}}\ \ \ \ \ \mbox{\hyperlink{classspdlog_1_1details_1_1tcp__client}{details::tcp\_client}}\ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink_afc5b3878cddfb53c78004096725c9346}{client\_}};}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00069}00069\ \};}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00071}\mbox{\hyperlink{namespacespdlog_1_1sinks_ad181de2e4b650e531f6b6ec936e9c785}{00071}}\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink}{tcp\_sink\_mt}}\ =\ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink}{tcp\_sink<std::mutex>}};}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00072}\mbox{\hyperlink{namespacespdlog_1_1sinks_a4d0aa1f713d1a8832051116b5eacacda}{00072}}\ \textcolor{keyword}{using\ }\mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink}{tcp\_sink\_st}}\ =\ \mbox{\hyperlink{classspdlog_1_1sinks_1_1tcp__sink}{tcp\_sink<spdlog::details::null\_mutex>}};}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00074}00074\ \}\ \ \textcolor{comment}{//\ namespace\ sinks}}
\DoxyCodeLine{\Hypertarget{tcp__sink_8h_source_l00075}00075\ \}\ \ \textcolor{comment}{//\ namespace\ spdlog}}

\end{DoxyCode}
